#!/bin/bash

current_branch=$(git rev-parse --abbrev-ref HEAD)

if [ "$current_branch" == "test" ]; then
    git diff --cached --name-only --diff-filter=ACM | grep -q "^path/to/test-specific-files/"
    if [ $? -eq 0 ]; then
        echo "testブランチからのコミットは特定のファイルの変更を含むため、許可されません。" >&2
        exit 1
    fi
fi

exit 0